(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e0e886a"],{"2db2":function(e,t,a){},"5f1a":function(e,t,a){"use strict";var s=a("2db2"),i=a.n(s);i.a},a55b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("body",{staticStyle:{"background-color":"lightgrey"}},[s("v-hover",{attrs:{"open-delay":"200"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.hover;return[s("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"7%"},attrs:{elevation:i?16:2,"max-width":"600px","max-height":"940px",outlined:"",raised:""}},[s("v-form",{ref:"loginform",on:{submit:function(t){return t.preventDefault(),e.validate_login()}}},[s("v-row",{staticClass:"mt-12",attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",align:"center",justify:"center"}},[s("v-img",{staticClass:"white--text align-end animated fadeInUp slow hidden-sm-and-down",attrs:{width:"48%",src:a("470c")}}),s("v-img",{staticClass:"white--text align-end animated fadeInUp slow hidden-md-and-up mt-5",attrs:{width:"55%",src:a("470c")}})],1),s("v-col",{staticClass:"animated fadeInUp mt-8",attrs:{cols:"12",align:"center",justify:"center"}},[s("v-col",{staticClass:"mt-5",attrs:{cols:"8",sm:"9"}},[s("v-text-field",{attrs:{color:"red darken-1 red--text","align-center":"",height:"32","prepend-inner-icon":"mdi-account-circle",label:"username","single-line":"",solo:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{color:"red darken-1 red--text",solo:"","prepend-inner-icon":"mdi-lock","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",name:"input-10-1",label:"password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-btn",{attrs:{loading:e.loading,type:"submit",block:"",color:"white--text",dark:"",large:""},on:{click:function(t){return e.validate_login()}}},[e._v("Login")])],1)],1)],1)],1),s("v-container",[s("v-row",{staticStyle:{"margin-left":"8%"},attrs:{cols:"9"}},[s("v-col",{attrs:{cols:"5",sm:"5"}}),s("v-col",{staticStyle:{"margin-left":"25%"},attrs:{cols:"4",sm:"4"}})],1)],1)],1)]}}])}),s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",persistent:"",transition:"dialog-transition"},model:{value:e.loadingDialog,callback:function(t){e.loadingDialog=t},expression:"loadingDialog"}},[s("v-card",{staticClass:"pa-0 ma-0 -webkit-full-screen",attrs:{"max-height":"full screen","max-width":"auto",width:"100%",height:"100%"}},[s("v-row",{attrs:{align:"center",justify:"center",width:"100%"}},[s("v-col",{staticStyle:{"margin-top":"15%"},attrs:{align:"center",justify:"center"}},[s("v-img",{staticClass:"white--text align-end hidden-sm-and-down",attrs:{width:"25%",src:a("470c")}}),s("v-img",{staticClass:"white--text align-end hidden-md-and-up mt-5",attrs:{width:"15%",src:a("470c")}})],1)],1),s("br"),s("br"),s("v-row",{attrs:{align:"center",justify:"center",width:"100%"}},[s("v-col",{attrs:{cols:"4"}},[s("br"),s("v-progress-linear",{attrs:{color:"black",indeterminate:"",reverse:""}}),s("br")],1)],1)],1)],1)],1)])},i=[],o=a("3d20"),r=a.n(o),n={name:"Login",components:{},data(){return{show1:!1,loading:!1,username:void 0,password:void 0,loadingDialog:!1,counters:0,user_login:""}},watch:{},computed(){},created(){this.check_token_expired(),this.$store.commit("data_interval_get_data",this.counters)},mounted(){},methods:{check_token_expired(){this.loading=!1,this.axios({method:"GET",url:this.$store.state.url_axios+"api/v1/meters",headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{var t=e.data;"success"==t.message&&(this.loading=!1,this.$router.push("/DashboardDevice"))}).catch(e=>{"Measurement Not Found"===e.response.data.error_message?r.a.fire({icon:"error",title:"Oops...",text:"No data"}):"UNAUTHORIZED"===e.response.statusText?(this.$router.push("/login"),this.$message.warning("Time out !!!")):(e.response.statusText,this.$router.push("/login"))})},Open_ModelForgetPassword(){this.$refs.ModelForgetPassword.open()},Open_ModelSignUP(){this.$refs.ModelSignUP.open()},open_dialogloading(){this.$refs.loadingDialog.open()},validate_login(){void 0===this.username||void 0===this.password?r.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"<a>Please check username and password</a>"}):this.button_login()},button_login(){this.loadingDialog=!0,this.axios.post(this.$store.state.url_axios+"api/v1/users/login",{username:this.username,password:this.password}).then(e=>{var t=e.data;"success"===t["message"]?(localStorage.token=t["result"].access_token,localStorage.refresh_token=t["result"].refresh_token,this.save_user_login(),this.loadingDialog=!1,this.$router.push("/DashboardDevice")):(this.$swal("กรุณาตรวจสอบ Username และ Password","","error"),this.loadingDialog=!1)},e=>{"Request failed with status code 400"===e.message?(this.loadingDialog=!1,this.$swal("กรุณากรอกข้อมูลให้ครบถ้วน","","warning")):"Request failed with status code 500"===e.message?(this.loadingDialog=!1,this.$swal("เกิดข้อผิดพลาด กรุณาตรวจสอบการเชื่อมต่อ","","error")):"Request failed with status code 401"===e.message||"Request failed with status code 422"===e.message||"Request failed with status code 404"===e.message?(this.loadingDialog=!1,this.$swal("กรุณาตรวจสอบ Username และ Password","","error"),this.$router.push("/login")):"Network Error"===e.message&&(this.loadingDialog=!1,this.$swal("กรุณาตรวจสอบการเชื่อมต่อ","","warning")),this.loadingDialog=!1}).catch(e=>{"Measurement Not Found"===e.response.data.error_message?(this.detdata_default_power(),r.a.fire({icon:"error",title:"Oops...",text:"ไม่พบข้อมูล"})):"UNPROCESSABLE ENTITY"===e.response.statusText?(this.$message.warning("Please sign in again"),this.$router.push("/login")):(this.detdata_default_power(),r.a.fire({icon:"error",title:"Oops...",text:"กรุณาตรวจสอบการเชื่อมต่อ"}))})},save_user_login(){var e=this.username;window.localStorage.setItem("user_login",JSON.stringify(e))}}},l=n,d=(a("5f1a"),a("2877")),c=a("6544"),g=a.n(c),u=a("8336"),h=a("b0af"),m=a("62ad"),p=a("a523"),w=a("169a"),f=a("4bd4"),v=a("ce87"),_=a("adda"),x=a("8e36"),b=a("0fd9"),k=a("8654"),y=Object(d["a"])(l,s,i,!1,null,"5c5be48c",null);t["default"]=y.exports;g()(y,{VBtn:u["a"],VCard:h["a"],VCol:m["a"],VContainer:p["a"],VDialog:w["a"],VForm:f["a"],VHover:v["a"],VImg:_["a"],VProgressLinear:x["a"],VRow:b["a"],VTextField:k["a"]})}}]);
//# sourceMappingURL=chunk-2e0e886a.1e262cf8.js.map