(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58bd891c"],{"41d1":function(t,e,a){"use strict";var i=a("b634"),s=a.n(i);s.a},"8cd0":function(t,e,a){},b634:function(t,e,a){},d337:function(t,e,a){"use strict";var i=a("da34"),s=a.n(i);s.a},da34:function(t,e,a){},edfa9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("vue-scroll-progress-bar",{attrs:{backgroundColor:"#000000",height:"0.3rem"}})],1),a("v-progress-linear",{attrs:{indeterminate:t.loading,active:t.loading,color:"red darken-2"}}),a("v-container",{staticClass:"mt-10",staticStyle:{"margin-bottom":"3%"}},["delete"!=this.mode?a("v-row",{staticClass:"mt-4 animated bounceInLeft slow",staticStyle:{"text-align":"-webkit-center"}},t._l(t.array_getdata,(function(e){return a("v-col",{key:e,attrs:{cols:"4","sm-4":""}},[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.hover;return[a("v-card",{staticClass:"mt-4 mx-auto",staticStyle:{"border-radius":"15px"},attrs:{"max-width":"340",elevation:s?16:2},on:{click:function(a){return t.Open_device(e)}}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto white--text",staticStyle:{"border-radius":"15px"},attrs:{color:"light-blue darken-2",elevation:"12","max-width":"calc(100% - 32px)"}},[a("v-row",[a("v-col")],1),a("v-row",{attrs:{align:"center",justify:"left"}},[a("v-col",{attrs:{cols:"9"}},[a("div",{staticClass:"font-weight-bold truncate",staticStyle:{"font-size":"21px"}},[t._v(" "+t._s(e.machineName)+" ")])]),a("v-col",{attrs:{cols:"2"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({attrs:{large:"",color:"white"}},i),[t._v("mdi-gauge-low")])]}}],null,!0)},[a("span",[t._v("gauge device")])])],1)],1),a("v-row",[a("v-col")],1)],1),a("v-card-text",{staticClass:"pt-0 left"},[a("div",{staticClass:"mb-2 ml-2 font-weight-medium truncate",staticStyle:{"text-align-last":"left","font-size":"15px"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("Department:")]),t._v(" "+t._s(e.department)+" ")]),a("div",{staticClass:"mt-3 mb-1 h5 font-weight-medium ml-2 truncate",staticStyle:{"text-align-last":"left","font-size":"15px"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("MachineID:")]),t._v(" "+t._s(e.machineID)+" ")])])],1)]}}],null,!0)})],1)})),1):t._e(),"delete"==this.mode?a("v-row",{staticClass:"mt-2",staticStyle:{"text-align":"-webkit-center"}},t._l(t.array_getdata,(function(e){return a("v-col",{key:e,attrs:{cols:"4","sm-4":""}},[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.hover;return[a("v-card",{staticClass:"mt-5 mx-auto",staticStyle:{"border-radius":"10px"},attrs:{"max-width":"320",elevation:s?16:2},on:{click:function(a){return t.Open_delete_Device(e)}}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto white--text",staticStyle:{"border-radius":"10px"},attrs:{color:"black",elevation:"12","max-width":"calc(100% - 32px)"}},[a("v-row",[a("v-col")],1),a("v-row",{attrs:{align:"center",justify:"left"}},[a("v-col",{attrs:{cols:"9"}},[a("div",{staticClass:"font-weight-bold truncate",staticStyle:{"font-size":"21px"}},[t._v(" "+t._s(e.machineName)+" ")])]),a("v-col",{attrs:{cols:"2"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({attrs:{large:"",color:"white"}},i),[t._v("mdi-gauge-low")])]}}],null,!0)},[a("span",[t._v("gauge device")])])],1)],1),a("v-row",[a("v-col")],1)],1),a("v-card-text",{staticClass:"pt-0 left"},[a("div",{staticClass:"mt-3 mb-1 h5 font-weight-medium ml-2 truncate",staticStyle:{"text-align-last":"left","font-size":"15px"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("Department:")]),t._v(" "+t._s(e.department)+" ")]),a("div",{staticClass:"mt-3 mb-1 h5 font-weight-medium ml-2 truncate",staticStyle:{"text-align-last":"left","font-size":"15px"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("MachineID:")]),t._v(" "+t._s(e.machineID)+" ")])]),a("v-fade-transition",{staticClass:"animate slideInUp"},[s?a("v-overlay",{attrs:{absolute:"",color:"grey lighten-1",opacity:"0.1"}},[a("v-icon",{staticStyle:{"margin-top":"20%"},attrs:{size:"90px",color:"red"}},[t._v("mdi-delete-circle-outline")])],1):t._e()],1)],1)]}}],null,!0)})],1)})),1):t._e(),a("v-row",{staticClass:"ml-2 mr-5",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mt-0",staticStyle:{"text-align":"-webkit-center"},attrs:{cols:"6",height:"250px"}})],1)],1),a("v-speed-dial",{staticClass:"mb-12 mr-1",attrs:{fab:"",fixed:"",right:"",bottom:"",hover:"",transition:t.transition},scopedSlots:t._u([{key:"activator",fn:function(){return["create"===t.mode?a("v-btn",{attrs:{bottom:"",large:"",color:"blue darken-2",dark:"",fab:""},model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[t.create?a("v-icon",{attrs:{large:""}},[t._v("mdi-close")]):a("v-icon",{attrs:{large:""}},[t._v("mdi-plus-circle")])],1):t._e(),"create"!=t.mode?a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({attrs:{bottom:"",large:"",color:"black darken-2",dark:"",fab:""},on:{click:function(e){return t.exit_mode_delete()}}},"v-btn",s,!1),i),[a("v-icon",[t._v("mdi-arrow-right-bold")])],1)]}}],null,!1,4208373202),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("span",[t._v("Exit Delete Mode")])]):t._e()]},proxy:!0}]),model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[a("v-btn",{attrs:{fab:"",dark:"",color:"green"},on:{click:function(e){return t.btn_create()}}},[a("v-icon",[t._v("mdi-plus")])],1),a("v-btn",{attrs:{fab:"",dark:"",color:"red"},on:{click:function(e){return t.btn_delete()}}},[a("v-icon",[t._v("mdi-delete")])],1)],1),a("DialogCreateDevice",{ref:"DialogCreateDevice",on:{getListdevice:t.API_getdata_List_device}})],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{staticStyle:{"border-radius":"15px"},attrs:{"max-width":"650px","overlay-opacity":"0.8"},model:{value:t.DialogCreateDevice,callback:function(e){t.DialogCreateDevice=e},expression:"DialogCreateDevice"}},[a("v-card",{staticStyle:{"border-radius":"15px"},attrs:{align:"center"}},[a("v-card-title",{staticClass:"headline font-weight-bold white--text black",attrs:{"primary-title":""}},[t._v(" Create Device "),a("v-spacer"),a("v-btn",{staticClass:"float-right black",attrs:{icon:""},on:{click:function(e){return t.close()}}},[a("v-icon",{staticClass:"white",staticStyle:{"border-radius":"5px"}},[t._v("mdi-close-thick")])],1)],1),a("v-card-text",[a("v-container",[a("v-form",[a("v-row",{staticClass:"ml-0",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3",align:"left"}},[a("p",{staticClass:"font-weight-bold"},[t._v("Meter id:")])]),a("v-col",{attrs:{cols:"7",align:"left"}},[a("v-text-field",{staticStyle:{"border-radius":"10px"},attrs:{color:"red darken-4",label:"mm_1910",type:"text",dense:"",solo:"",filled:""},model:{value:t.meterid,callback:function(e){t.meterid=e},expression:"meterid"}})],1)],1),a("v-row",{staticClass:"ml-0",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3",align:"left"}},[a("p",{staticClass:"font-weight-bold"},[t._v("Meter name:")])]),a("v-col",{attrs:{cols:"7",align:"left"}},[a("v-text-field",{staticStyle:{"border-radius":"10px"},attrs:{color:"red darken-4",label:"motor",type:"text",dense:"",solo:"",filled:""},model:{value:t.metername,callback:function(e){t.metername=e},expression:"metername"}})],1)],1),a("v-row",{staticClass:"ml-0",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3",align:"left"}},[a("p",{staticClass:"font-weight-bold"},[t._v("Department:")])]),a("v-col",{attrs:{cols:"7",align:"left"}},[a("v-text-field",{staticStyle:{"border-radius":"10px"},attrs:{color:"red darken-4",label:"R&D",type:"text",dense:"",solo:"",filled:""},model:{value:t.department,callback:function(e){t.department=e},expression:"department"}})],1)],1),a("div",{staticClass:"text-center"},[a("v-row",[a("v-col",[a("v-btn",{staticStyle:{"border-radius":"10px"},attrs:{block:"",color:"white"},on:{click:function(e){return t.Cancel()}}},[t._v("Cancel")])],1),a("v-col",[a("v-btn",{staticStyle:{"border-radius":"10px"},attrs:{block:"",color:"black",dark:""},on:{click:function(e){return t.validate_before_submit()}}},[t._v("Submit")])],1)],1)],1)],1)],1)],1)],1)],1)},o=[],n=a("3d20"),l=a.n(n),c={data(){return{loading:!1,meterid:void 0,metername:void 0,department:void 0,DialogCreateDevice:!1}},created(){this.get_data_Device()},watch:{},methods:{open(){this.DialogCreateDevice=!0},clear_data_addDevice(){this.meterid=void 0,this.metername=void 0,this.department=void 0},Cancel(){this.DialogCreateDevice=!1,this.clear_data_addDevice()},close(){this.DialogCreateDevice=!1,this.clear_data_addDevice()},validate_before_submit(){void 0===this.meterid||void 0===this.metername||void 0===this.department?l.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!"}):this.Submit()},Submit(){var t={user_account:this.user_login,meter_id:this.meterid,meter_name:this.metername,department:this.department};this.axios({method:"POST",url:this.$store.state.url_axios+"/api/v1/meters",data:t,headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.resultcheck=t.data,this.result=t.data.result,"success"===this.resultcheck["message"]?(this.$emit("getListdevice"),l.a.fire({icon:"success",title:"Success",text:"Create device success"}),this.clear_data_addDevice(),this.DialogCreateDevice=!1):l.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}).catch(t=>{"Measurement Not Found"===t.response.data.error_message?l.a.fire({icon:"error",title:"Oops...",text:"ไม่พบข้อมูลกราฟ วัน-เวลาที่ค้นหา !!"}):"Meter exist"===t.response.data.error_message?l.a.fire({icon:"error",title:"Oops...",text:"Duplicate meter name Can not be added"}):l.a.fire({icon:"error",title:"Oops...",text:"กรุณาตรวจสอบการเชื่อมต่อ"})})},get_data_Device(){let t=JSON.parse(window.localStorage.getItem("user_login"));this.user_login=null===t?"":t}}},d=c,v=(a("41d1"),a("2877")),u=a("6544"),m=a.n(u),h=a("8336"),p=a("b0af"),f=a("99d9"),g=a("62ad"),_=a("a523"),b=a("169a"),x=a("4bd4"),y=a("132d"),w=a("0fd9"),C=a("2fa4"),k=a("8654"),D=Object(v["a"])(d,r,o,!1,null,null,null),S=D.exports;m()(D,{VBtn:h["a"],VCard:p["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:g["a"],VContainer:_["a"],VDialog:b["a"],VForm:x["a"],VIcon:y["a"],VRow:w["a"],VSpacer:C["a"],VTextField:k["a"]});var O={name:"DashboardDevice",components:{DialogCreateDevice:S},data(){return{counters:0,alert:!1,Index:"",attrs:void 0,Name:"",fab:!1,loading:!1,array_getdata:[],mode:"create",create:"",loadingdelete:!1,color_delete:"",show:!1,show1:!1,show2:!1,transition:"slide-y-reverse-transition",array_devicedata:[]}},created(){this.API_getdata_List_device(),this.$store.commit("data_interval_get_data",this.counters)},methods:{onScroll(t){if("undefined"===typeof window)return;const e=window.pageYOffset||t.target.scrollTop||0;this.fab=e>20},toTop(){this.$vuetify.goTo(0)},Open_device(t){var e=this.array_devicedata,a={Index:e.length+1,machineID:t.machineID,machineName:t.machineName,department:t.department};e.push(a),window.localStorage.setItem("arrayDevice",JSON.stringify(e)),this.$router.push("/Device")},Open_delete_Device(t){l.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(e=>{e.value&&this.API_Delete_Device(t.machineID)})},API_Delete_Device(t){this.axios({method:"DELETE",url:this.$store.state.url_axios+"/api/v1/meters?meter_id="+t,headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.resultcheck=t.data,this.result=t.data.result,"success"===this.resultcheck["message"]?(this.$emit("getListdevice"),l.a.fire({icon:"success",title:"Success",text:"Delete device success"}),this.API_getdata_List_device()):l.a.fire({icon:"error",title:"error",text:"Can not be deleted"})}).catch(t=>{"Measurement Not Found"===t.response.data.error_message||t.response.data.error_message,l.a.fire({icon:"error",title:"Oops...",text:"Can not be deleted"})})},btn_create(){this.$refs.DialogCreateDevice.open()},btn_delete(){this.mode="delete",this.snackbar_delete=!0,this.$message.error("Delete Mode")},exit_mode_delete(){this.mode="create",this.create=""},API_getdata_List_device(){this.loading=!0,this.axios({method:"GET",url:this.$store.state.url_axios+"api/v1/meters",headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.loading=!1;var e=t.data;0===e.len?(this.$swal({title:"ไม่มีข้อมูล",type:"info"}),this.array_getdata=e["result"],this.loading=!1):(this.array_getdata=e["result"],this.loading=!1)}).catch(t=>{"Measurement Not Found"===t.response.data.error_message?l.a.fire({icon:"error",title:"Oops...",text:"No data"}):"UNAUTHORIZED"===t.response.statusText?(this.$router.push("/login"),this.$message.warning("Time out !!!")):"UNPROCESSABLE ENTITY"===t.response.statusText?this.$router.push("/login"):l.a.fire({icon:"error",title:"Oops...",text:"กรุณาตรวจสอบการเชื่อมต่อ"})})}}},V=O,I=(a("d337"),a("0789")),A=a("ce87"),T=a("a797"),$=a("8e36"),z=a("8dd9"),N=(a("8cd0"),a("f2e7")),B=a("fe6c"),E=a("2b0e"),L=E["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),M=a("a293"),j=a("58df"),P=Object(j["a"])(B["a"],N["a"],L).extend({name:"v-speed-dial",directives:{ClickOutside:M["a"]},props:{direction:{type:String,default:"top",validator:t=>["top","right","bottom","left"].includes(t)},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes(){return{"v-speed-dial":!0,"v-speed-dial--top":this.top,"v-speed-dial--right":this.right,"v-speed-dial--bottom":this.bottom,"v-speed-dial--left":this.left,"v-speed-dial--absolute":this.absolute,"v-speed-dial--fixed":this.fixed,["v-speed-dial--direction-"+this.direction]:!0,"v-speed-dial--is-active":this.isActive}}},render(t){let e=[];const a={class:this.classes,directives:[{name:"click-outside",value:()=>this.isActive=!1}],on:{click:()=>this.isActive=!this.isActive}};if(this.openOnHover&&(a.on.mouseenter=()=>this.isActive=!0,a.on.mouseleave=()=>this.isActive=!1),this.isActive){let a=0;e=(this.$slots.default||[]).map((e,i)=>!e.tag||"undefined"===typeof e.componentOptions||"v-btn"!==e.componentOptions.Ctor.options.name&&"v-tooltip"!==e.componentOptions.Ctor.options.name?(e.key=i,e):(a++,t("div",{style:{transitionDelay:.05*a+"s"},key:i},[e])))}const i=t("transition-group",{class:"v-speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},e);return t("div",a,[this.$slots.activator,i])}}),F=a("3a2f"),R=Object(v["a"])(V,i,s,!1,null,"5725c2e4",null);e["default"]=R.exports;m()(R,{VBtn:h["a"],VCard:p["a"],VCardText:f["b"],VCol:g["a"],VContainer:_["a"],VFadeTransition:I["b"],VHover:A["a"],VIcon:y["a"],VOverlay:T["a"],VProgressLinear:$["a"],VRow:w["a"],VSheet:z["a"],VSpeedDial:P,VTooltip:F["a"]})}}]);
//# sourceMappingURL=chunk-58bd891c.74fe82f3.js.map